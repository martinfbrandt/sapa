{"ast":null,"code":"import _regeneratorRuntime from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { assoc, propOr } from 'ramda'; // checks for error on api call and returns it to be displayed\n\nvar throwError =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(response) {\n    var errBody;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(response.status !== 200)) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 3;\n            return response.json();\n\n          case 3:\n            errBody = _context.sent;\n            throw Error(errBody.error);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function throwError(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar unauthorizedClearSession = function unauthorizedClearSession(response) {\n  if (response.status === 401) {\n    sessionStorage.clear();\n    return true;\n  }\n\n  return false;\n};\n\nexport var signUpUser =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(user) {\n    var created;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return fetch('http://localhost:3000/api/signup', {\n              method: 'POST',\n              mode: 'cors',\n              cache: \"no-cache\",\n              url: 'http://localhost:3000',\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify(assoc('roles', ['user'], user))\n            });\n\n          case 3:\n            created = _context2.sent;\n\n            if (!(created.status === 409)) {\n              _context2.next = 6;\n              break;\n            }\n\n            throw Error(\"User with email address \".concat(user.email, \" exists\"));\n\n          case 6:\n            _context2.next = 8;\n            return throwError(created);\n\n          case 8:\n            _context2.next = 10;\n            return created.json();\n\n          case 10:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 13:\n            _context2.prev = 13;\n            _context2.t0 = _context2[\"catch\"](0);\n            throw _context2.t0;\n\n          case 16:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 13]]);\n  }));\n\n  return function signUpUser(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var loadUser = function loadUser(userId) {\n  var jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')));\n\n  if (jwt === null) {\n    throw Error('Expired Token');\n  }\n\n  try {\n    return fetch(\"http://localhost:3000/api/users/\".concat(userId), {\n      method: 'GET',\n      mode: 'cors',\n      cache: \"no-cache\",\n      url: 'http://localhost:3000',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": jwt\n      }\n    });\n  } catch (err) {\n    throw err;\n  }\n};\nexport var logInUser = function logInUser(user) {\n  try {\n    return fetch('http://localhost:3000/api/login', {\n      method: 'POST',\n      mode: 'cors',\n      cache: \"no-cache\",\n      url: 'http://localhost:3000',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    });\n  } catch (err) {\n    throw err;\n  }\n};\nexport var loadUserMeals =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3() {\n    var jwt, mealResponse;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')));\n\n            if (!(jwt === null)) {\n              _context3.next = 3;\n              break;\n            }\n\n            throw Error('Expired Token');\n\n          case 3:\n            _context3.prev = 3;\n            _context3.next = 6;\n            return fetch('http://localhost:3000/api/meals', {\n              method: 'GET',\n              mode: 'cors',\n              cache: \"no-cache\",\n              url: 'http://localhost:3000',\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": jwt\n              }\n            });\n\n          case 6:\n            mealResponse = _context3.sent;\n\n            if (!unauthorizedClearSession(mealResponse)) {\n              _context3.next = 9;\n              break;\n            }\n\n            throw Error('Expired Token');\n\n          case 9:\n            return _context3.abrupt(\"return\", mealResponse.json());\n\n          case 12:\n            _context3.prev = 12;\n            _context3.t0 = _context3[\"catch\"](3);\n            throw _context3.t0;\n\n          case 15:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[3, 12]]);\n  }));\n\n  return function loadUserMeals() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var saveNewMeal = function saveNewMeal(meal) {\n  var jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')));\n\n  if (jwt == null) {\n    throw Error('Expired Token');\n  }\n\n  try {\n    return fetch('http://localhost:3000/api/meals', {\n      method: 'POST',\n      mode: 'cors',\n      cache: \"no-cache\",\n      url: 'http://localhost:3000',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": jwt\n      },\n      body: JSON.stringify(meal)\n    });\n  } catch (err) {\n    throw err;\n  }\n};\nexport var updateMeal = function updateMeal(mealId, meal) {\n  var jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')));\n\n  if (jwt === null) {\n    throw Error('Expired Token');\n  }\n\n  try {\n    return fetch(\"http://localhost:3000/api/meals/\".concat(mealId), {\n      method: 'PATCH',\n      mode: 'cors',\n      cache: \"no-cache\",\n      url: 'http://localhost:3000',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": jwt\n      },\n      body: JSON.stringify(meal)\n    });\n  } catch (err) {\n    throw err;\n  }\n};\nexport var deleteMeal = function deleteMeal(mealId) {\n  var jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')));\n\n  if (jwt == null) {\n    throw Error('Expired Token');\n  }\n\n  try {\n    return fetch(\"http://localhost:3000/api/meals/\".concat(mealId), {\n      method: 'DELETE',\n      mode: 'cors',\n      cache: \"no-cache\",\n      url: 'http://localhost:3000',\n      headers: {\n        \"Authorization\": jwt\n      }\n    });\n  } catch (err) {\n    throw err;\n  }\n};\nexport var updateUser = function updateUser(userId, user) {\n  var jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')));\n\n  if (jwt == null) {\n    throw Error('Expired Token');\n  }\n\n  try {\n    return fetch(\"http://localhost:3000/api/users/\".concat(userId), {\n      method: 'PATCH',\n      mode: 'cors',\n      cache: \"no-cache\",\n      url: 'http://localhost:3000',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": jwt\n      },\n      body: JSON.stringify(user)\n    });\n  } catch (err) {\n    throw err;\n  }\n};","map":{"version":3,"sources":["/Users/martinbrandt/martin-brandt/calorie-counter/src/Api.js"],"names":["assoc","propOr","throwError","response","status","json","errBody","Error","error","unauthorizedClearSession","sessionStorage","clear","signUpUser","user","fetch","method","mode","cache","url","headers","body","JSON","stringify","created","email","loadUser","userId","jwt","parse","getItem","err","logInUser","loadUserMeals","mealResponse","saveNewMeal","meal","updateMeal","mealId","deleteMeal","updateUser"],"mappings":";;AAAA,SAAQA,KAAR,EAAeC,MAAf,QAA4B,OAA5B,C,CAEA;;AACA,IAAMC,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACZA,QAAQ,CAACC,MAAT,KAAoB,GADR;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAEWD,QAAQ,CAACE,IAAT,EAFX;;AAAA;AAELC,YAAAA,OAFK;AAAA,kBAGLC,KAAK,CAACD,OAAO,CAACE,KAAT,CAHA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVN,UAAU;AAAA;AAAA;AAAA,GAAhB;;AAQA,IAAMO,wBAAwB,GAAG,SAA3BA,wBAA2B,CAAAN,QAAQ,EAAI;AACzC,MAAGA,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AACvBM,IAAAA,cAAc,CAACC,KAAf;AACA,WAAO,IAAP;AACH;;AACD,SAAO,KAAP;AACH,CAND;;AAOA,OAAO,IAAMC,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEIC,KAAK,CAAC,kCAAD,EAAqC;AAC5DC,cAAAA,MAAM,EAAC,MADqD;AAE5DC,cAAAA,IAAI,EAAE,MAFsD;AAG5DC,cAAAA,KAAK,EAAE,UAHqD;AAI5DC,cAAAA,GAAG,EAAE,uBAJuD;AAK5DC,cAAAA,OAAO,EAAE;AACL,gCAAgB;AADX,eALmD;AAQ5DC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAetB,KAAK,CAAC,OAAD,EAAU,CAAC,MAAD,CAAV,EAAoBa,IAApB,CAApB;AARsD,aAArC,CAFT;;AAAA;AAEZU,YAAAA,OAFY;;AAAA,kBAafA,OAAO,CAACnB,MAAR,KAAmB,GAbJ;AAAA;AAAA;AAAA;;AAAA,kBAcRG,KAAK,mCAA4BM,IAAI,CAACW,KAAjC,aAdG;;AAAA;AAAA;AAAA,mBAiBZtB,UAAU,CAACqB,OAAD,CAjBE;;AAAA;AAAA;AAAA,mBAkBLA,OAAO,CAAClB,IAAR,EAlBK;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVO,UAAU;AAAA;AAAA;AAAA,GAAhB;AAyBP,OAAO,IAAMa,QAAQ,GAAG,SAAXA,QAAW,CAAAC,MAAM,EAAI;AAC9B,MAAMC,GAAG,GAAG1B,MAAM,CAAC,IAAD,EAAO,KAAP,EAAcoB,IAAI,CAACO,KAAL,CAAWlB,cAAc,CAACmB,OAAf,CAAuB,MAAvB,CAAX,CAAd,CAAlB;;AACA,MAAGF,GAAG,KAAK,IAAX,EAAgB;AACZ,UAAMpB,KAAK,CAAC,eAAD,CAAX;AACH;;AACD,MAAI;AACA,WAAOO,KAAK,2CAAoCY,MAApC,GAA8C;AACtDX,MAAAA,MAAM,EAAC,KAD+C;AAEtDC,MAAAA,IAAI,EAAE,MAFgD;AAGtDC,MAAAA,KAAK,EAAE,UAH+C;AAItDC,MAAAA,GAAG,EAAE,uBAJiD;AAKtDC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBQ;AAFZ;AAL6C,KAA9C,CAAZ;AAUH,GAXD,CAWE,OAAMG,GAAN,EAAW;AACT,UAAMA,GAAN;AACH;AACJ,CAnBM;AAsBP,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAlB,IAAI,EAAI;AAC7B,MAAI;AACA,WAAOC,KAAK,CAAC,iCAAD,EAAoC;AAC5CC,MAAAA,MAAM,EAAC,MADqC;AAE5CC,MAAAA,IAAI,EAAE,MAFsC;AAG5CC,MAAAA,KAAK,EAAE,UAHqC;AAI5CC,MAAAA,GAAG,EAAE,uBAJuC;AAK5CC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OALmC;AAQ5CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AARsC,KAApC,CAAZ;AAUH,GAXD,CAWE,OAAMiB,GAAN,EAAW;AACT,UAAMA,GAAN;AACH;AACJ,CAfM;AAkBP,OAAO,IAAME,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBL,YAAAA,GADmB,GACb1B,MAAM,CAAC,IAAD,EAAO,KAAP,EAAcoB,IAAI,CAACO,KAAL,CAAWlB,cAAc,CAACmB,OAAf,CAAuB,MAAvB,CAAX,CAAd,CADO;;AAAA,kBAEtBF,GAAG,KAAK,IAFc;AAAA;AAAA;AAAA;;AAAA,kBAGfpB,KAAK,CAAC,eAAD,CAHU;;AAAA;AAAA;AAAA;AAAA,mBAOMO,KAAK,CAAC,iCAAD,EAAoC;AAChEC,cAAAA,MAAM,EAAC,KADyD;AAEhEC,cAAAA,IAAI,EAAE,MAF0D;AAGhEC,cAAAA,KAAK,EAAE,UAHyD;AAIhEC,cAAAA,GAAG,EAAE,uBAJ2D;AAKhEC,cAAAA,OAAO,EAAE;AACL,gCAAgB,kBADX;AAEL,iCAAgBQ;AAFX;AALuD,aAApC,CAPX;;AAAA;AAOfM,YAAAA,YAPe;;AAAA,iBAiBlBxB,wBAAwB,CAACwB,YAAD,CAjBN;AAAA;AAAA;AAAA;;AAAA,kBAkBX1B,KAAK,CAAC,eAAD,CAlBM;;AAAA;AAAA,8CAoBd0B,YAAY,CAAC5B,IAAb,EApBc;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAb2B,aAAa;AAAA;AAAA;AAAA,GAAnB;AA0BP,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAc,CAAAC,IAAI,EAAI;AAC/B,MAAMR,GAAG,GAAG1B,MAAM,CAAC,IAAD,EAAO,KAAP,EAAcoB,IAAI,CAACO,KAAL,CAAWlB,cAAc,CAACmB,OAAf,CAAuB,MAAvB,CAAX,CAAd,CAAlB;;AACA,MAAGF,GAAG,IAAI,IAAV,EAAe;AACX,UAAMpB,KAAK,CAAC,eAAD,CAAX;AACH;;AACD,MAAI;AACA,WAAOO,KAAK,CAAC,iCAAD,EAAoC;AAC5CC,MAAAA,MAAM,EAAC,MADqC;AAE5CC,MAAAA,IAAI,EAAE,MAFsC;AAG5CC,MAAAA,KAAK,EAAE,UAHqC;AAI5CC,MAAAA,GAAG,EAAE,uBAJuC;AAK5CC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBQ;AAFZ,OALmC;AAS5CP,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAea,IAAf;AATsC,KAApC,CAAZ;AAWH,GAZD,CAYE,OAAML,GAAN,EAAW;AACT,UAAMA,GAAN;AACH;AACJ,CApBM;AAsBH,OAAO,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAACC,MAAD,EAASF,IAAT,EAAkB;AACxC,MAAMR,GAAG,GAAG1B,MAAM,CAAC,IAAD,EAAO,KAAP,EAAcoB,IAAI,CAACO,KAAL,CAAWlB,cAAc,CAACmB,OAAf,CAAuB,MAAvB,CAAX,CAAd,CAAlB;;AACA,MAAGF,GAAG,KAAK,IAAX,EAAgB;AACZ,UAAMpB,KAAK,CAAC,eAAD,CAAX;AACH;;AAED,MAAI;AACA,WAAOO,KAAK,2CAAoCuB,MAApC,GAA8C;AACtDtB,MAAAA,MAAM,EAAC,OAD+C;AAEtDC,MAAAA,IAAI,EAAE,MAFgD;AAGtDC,MAAAA,KAAK,EAAE,UAH+C;AAItDC,MAAAA,GAAG,EAAE,uBAJiD;AAKtDC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBQ;AAFZ,OAL6C;AAStDP,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAea,IAAf;AATgD,KAA9C,CAAZ;AAWH,GAZD,CAYE,OAAML,GAAN,EAAW;AACT,UAAMA,GAAN;AACH;AACJ,CArBM;AAuBP,OAAO,IAAMQ,UAAU,GAAG,SAAbA,UAAa,CAAAD,MAAM,EAAI;AAChC,MAAMV,GAAG,GAAG1B,MAAM,CAAC,IAAD,EAAO,KAAP,EAAcoB,IAAI,CAACO,KAAL,CAAWlB,cAAc,CAACmB,OAAf,CAAuB,MAAvB,CAAX,CAAd,CAAlB;;AACA,MAAGF,GAAG,IAAI,IAAV,EAAe;AACX,UAAMpB,KAAK,CAAC,eAAD,CAAX;AACH;;AAED,MAAI;AACA,WAAOO,KAAK,2CAAoCuB,MAApC,GAA8C;AACtDtB,MAAAA,MAAM,EAAC,QAD+C;AAEtDC,MAAAA,IAAI,EAAE,MAFgD;AAGtDC,MAAAA,KAAK,EAAE,UAH+C;AAItDC,MAAAA,GAAG,EAAE,uBAJiD;AAKtDC,MAAAA,OAAO,EAAE;AACL,yBAAiBQ;AADZ;AAL6C,KAA9C,CAAZ;AASH,GAVD,CAUE,OAAMG,GAAN,EAAW;AACT,UAAMA,GAAN;AACH;AACJ,CAnBM;AAqBH,OAAO,IAAMS,UAAU,GAAG,SAAbA,UAAa,CAACb,MAAD,EAASb,IAAT,EAAkB;AACxC,MAAMc,GAAG,GAAG1B,MAAM,CAAC,IAAD,EAAO,KAAP,EAAcoB,IAAI,CAACO,KAAL,CAAWlB,cAAc,CAACmB,OAAf,CAAuB,MAAvB,CAAX,CAAd,CAAlB;;AACA,MAAGF,GAAG,IAAI,IAAV,EAAe;AACX,UAAMpB,KAAK,CAAC,eAAD,CAAX;AACH;;AACD,MAAI;AACA,WAAOO,KAAK,2CAAoCY,MAApC,GAA8C;AACtDX,MAAAA,MAAM,EAAC,OAD+C;AAEtDC,MAAAA,IAAI,EAAE,MAFgD;AAGtDC,MAAAA,KAAK,EAAE,UAH+C;AAItDC,MAAAA,GAAG,EAAE,uBAJiD;AAKtDC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBQ;AAFZ,OAL6C;AAStDP,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AATgD,KAA9C,CAAZ;AAWH,GAZD,CAYE,OAAMiB,GAAN,EAAW;AACT,UAAMA,GAAN;AACH;AACZ,CApBc","sourcesContent":["import {assoc, propOr} from 'ramda';\n\n// checks for error on api call and returns it to be displayed\nconst throwError = async response => {\n    if(response.status !== 200){\n        const errBody = await response.json();\n        throw Error(errBody.error)\n    }\n}\n\n\nconst unauthorizedClearSession = response => {\n    if(response.status === 401){\n        sessionStorage.clear();\n        return true;\n    }\n    return false;\n}\nexport const signUpUser = async user => {\n    try {\n        const created = await fetch('http://localhost:3000/api/signup', {\n            method:'POST',\n            mode: 'cors',\n            cache: \"no-cache\",\n            url: 'http://localhost:3000',\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(assoc('roles', ['user'], user))\n        })\n\n        if(created.status === 409){\n            throw Error(`User with email address ${user.email} exists`)\n        } \n\n        await throwError(created)\n        return await created.json();\n        \n    } catch(err) {\n        throw err;\n    }\n}\n\nexport const loadUser = userId => {\n    const jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')))\n    if(jwt === null){\n        throw Error('Expired Token')\n    }\n    try {\n        return fetch(`http://localhost:3000/api/users/${userId}`, {\n            method:'GET',\n            mode: 'cors',\n            cache: \"no-cache\",\n            url: 'http://localhost:3000',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": jwt\n            },\n        })\n    } catch(err) {\n        throw err;\n    }\n}\n\n\nexport const logInUser = user => {\n    try {\n        return fetch('http://localhost:3000/api/login', {\n            method:'POST',\n            mode: 'cors',\n            cache: \"no-cache\",\n            url: 'http://localhost:3000',\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(user)\n        })\n    } catch(err) {\n        throw err;\n    }\n}\n\n\nexport const loadUserMeals = async () => {\n    const jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')))\n    if(jwt === null){\n        throw Error('Expired Token')\n    }\n\n    try {\n        const mealResponse = await fetch('http://localhost:3000/api/meals', {\n            method:'GET',\n            mode: 'cors',\n            cache: \"no-cache\",\n            url: 'http://localhost:3000',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\":jwt\n            },\n        })\n        if(unauthorizedClearSession(mealResponse)){\n            throw Error('Expired Token')\n        }\n        return mealResponse.json();\n    } catch(err) {\n        throw err;\n    }\n}\n\nexport const saveNewMeal = meal => {\n    const jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')))\n    if(jwt == null){\n        throw Error('Expired Token')\n    }\n    try {\n        return fetch('http://localhost:3000/api/meals', {\n            method:'POST',\n            mode: 'cors',\n            cache: \"no-cache\",\n            url: 'http://localhost:3000',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": jwt \n            },\n            body: JSON.stringify(meal)\n        })\n    } catch(err) {\n        throw err;\n    }\n}\n\n    export const updateMeal = (mealId, meal) => {\n        const jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')))\n        if(jwt === null){\n            throw Error('Expired Token')\n        }\n\n        try {\n            return fetch(`http://localhost:3000/api/meals/${mealId}`, {\n                method:'PATCH',\n                mode: 'cors',\n                cache: \"no-cache\",\n                url: 'http://localhost:3000',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": jwt\n                },\n                body: JSON.stringify(meal)\n            })\n        } catch(err) {\n            throw err;\n        }\n    }\n\n    export const deleteMeal = mealId => {\n        const jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')))\n        if(jwt == null){\n            throw Error('Expired Token')\n        }\n\n        try {\n            return fetch(`http://localhost:3000/api/meals/${mealId}`, {\n                method:'DELETE',\n                mode: 'cors',\n                cache: \"no-cache\",\n                url: 'http://localhost:3000',\n                headers: {\n                    \"Authorization\": jwt\n                },\n            })\n        } catch(err) {\n            throw err;\n        }\n    }\n\n        export const updateUser = (userId, user) => {\n            const jwt = propOr(null, 'jwt', JSON.parse(sessionStorage.getItem('user')))\n            if(jwt == null){\n                throw Error('Expired Token')\n            }\n            try {\n                return fetch(`http://localhost:3000/api/users/${userId}`, {\n                    method:'PATCH',\n                    mode: 'cors',\n                    cache: \"no-cache\",\n                    url: 'http://localhost:3000',\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Authorization\": jwt\n                    },\n                    body: JSON.stringify(user)\n                })\n            } catch(err) {\n                throw err;\n            }\n}"]},"metadata":{},"sourceType":"module"}