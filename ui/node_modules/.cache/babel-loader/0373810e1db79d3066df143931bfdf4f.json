{"ast":null,"code":"import _regeneratorRuntime from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/martinbrandt/martin-brandt/calorie-counter/src/pages/SignUp.jsx\";\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    align-items: flex-start;\\n    width: 100%;\\n    margin: 10px 0 10px 0;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 30px;\\n    height: 30px;\\n    width: 60px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    margin-left:10px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 5px;\\n    height: 30px;\\n    border: none;\\n    width: 100%;\\n    padding: 5px;\\n    font-family: sans-serif;\\n    font-weight: 500;\\n    font-size: medium;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 5px;\\n    display: flex;\\n    flex-direction: column;\\n    width: 300px;\\n    align-items: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    background-color: \", \";\\n    align-items: center;\\n    margin: 40px 80px 40px 80px;\\n    padding: 20px 0 20px 0;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { lightGreen } from 'variables';\nimport { Formik } from 'formik';\nimport { assoc } from 'ramda';\nvar SignUpContainer = styled.div(_templateObject(), lightGreen);\nvar SignUpForm = styled.form(_templateObject2());\nvar StyledInput = styled.input(_templateObject3());\nvar StyledLabel = styled.label(_templateObject4());\nvar StyledButton = styled.button(_templateObject5());\nvar FormItem = styled.div(_templateObject6());\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUp, _Component);\n\n  function SignUp() {\n    _classCallCheck(this, SignUp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SignUp).apply(this, arguments));\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Formik, {\n        initialValues: {\n          email: '',\n          password: '',\n          name: '',\n          dailyCalorieGoal: 2000\n        },\n        validate: function validate(values) {\n          var errors = {};\n\n          if (!values.email) {\n            errors.email = 'Required';\n          } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n            errors.email = 'Invalid email address';\n          }\n\n          return errors;\n        },\n        onSubmit:\n        /*#__PURE__*/\n        function () {\n          var _ref2 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee(values, _ref) {\n            var setSubmitting, newUser;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    setSubmitting = _ref.setSubmitting;\n                    setTimeout(function () {\n                      alert(JSON.stringify(values, null, 2));\n                      setSubmitting(false);\n                    }, 400);\n                    _context.prev = 2;\n                    _context.next = 5;\n                    return fetch('http://localhost:3000/api/signup', {\n                      method: 'POST',\n                      mode: 'no-cors',\n                      cache: \"no-cache\",\n                      url: 'http://localhost:3000',\n                      headers: {\n                        \"Content-Type\": \"application/json\"\n                      },\n                      body: JSON.stringify(assoc('roles', ['user'], values))\n                    });\n\n                  case 5:\n                    newUser = _context.sent;\n                    _context.next = 11;\n                    break;\n\n                  case 8:\n                    _context.prev = 8;\n                    _context.t0 = _context[\"catch\"](2);\n                    console.log(_context.t0);\n\n                  case 11:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, null, [[2, 8]]);\n          }));\n\n          return function (_x, _x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, function (_ref3) {\n        var values = _ref3.values,\n            errors = _ref3.errors,\n            touched = _ref3.touched,\n            handleChange = _ref3.handleChange,\n            handleBlur = _ref3.handleBlur,\n            handleSubmit = _ref3.handleSubmit,\n            isSubmitting = _ref3.isSubmitting;\n        return React.createElement(SignUpContainer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, \"Create an account:\"), React.createElement(SignUpForm, {\n          onSubmit: handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(FormItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(StyledLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"Email\"), React.createElement(StyledInput, {\n          type: \"email\",\n          name: \"email\",\n          onChange: handleChange,\n          value: values.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        })), React.createElement(FormItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, React.createElement(StyledLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, \"Name\"), React.createElement(StyledInput, {\n          type: \"text\",\n          name: \"name\",\n          onChange: handleChange,\n          value: values.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        })), React.createElement(FormItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(StyledLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, \"Daily Calorie Goal\"), React.createElement(StyledInput, {\n          type: \"text\",\n          name: \"daily calorie goal\",\n          onChange: handleChange,\n          value: values.dailyCalorieGoal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        })), React.createElement(FormItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(StyledLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, \"Password\"), React.createElement(StyledInput, {\n          type: \"password\",\n          name: \"password\",\n          onChange: handleChange,\n          onBlur: handleBlur,\n          value: values.password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        })), React.createElement(StyledButton, {\n          type: \"submit\",\n          disabled: isSubmitting,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"Submit\")));\n      });\n    }\n  }]);\n\n  return SignUp;\n}(Component);\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/martinbrandt/martin-brandt/calorie-counter/src/pages/SignUp.jsx"],"names":["React","Component","styled","lightGreen","Formik","assoc","SignUpContainer","div","SignUpForm","form","StyledInput","input","StyledLabel","label","StyledButton","button","FormItem","SignUp","email","password","name","dailyCalorieGoal","values","errors","test","setSubmitting","setTimeout","alert","JSON","stringify","fetch","method","mode","cache","url","headers","body","newUser","console","log","touched","handleChange","handleBlur","handleSubmit","isSubmitting"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport styled from 'styled-components';\nimport {lightGreen} from 'variables';\nimport {Formik} from 'formik';\nimport {assoc} from 'ramda';\n\nconst SignUpContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    background-color: ${lightGreen};\n    align-items: center;\n    margin: 40px 80px 40px 80px;\n    padding: 20px 0 20px 0;\n`;\n\nconst SignUpForm = styled.form`\n    margin: 5px;\n    display: flex;\n    flex-direction: column;\n    width: 300px;\n    align-items: center;\n`\n\nconst StyledInput = styled.input`\n    margin: 5px;\n    height: 30px;\n    border: none;\n    width: 100%;\n    padding: 5px;\n    font-family: sans-serif;\n    font-weight: 500;\n    font-size: medium;\n`;\n\nconst StyledLabel = styled.label`\n    margin-left:10px;\n`\n\nconst StyledButton = styled.button`\n    margin: 30px;\n    height: 30px;\n    width: 60px;\n`\n\nconst FormItem = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n    margin: 10px 0 10px 0;\n`\n\nclass SignUp extends Component {\n\n\n    render(){\n        return <Formik\n                    initialValues={{ email: '', password: '', name: '', dailyCalorieGoal: 2000 }}\n                    validate={values => {\n                        let errors = {};\n                        if (!values.email) {\n                          errors.email = 'Required';\n                        } else if (\n                          !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n                        ) {\n                          errors.email = 'Invalid email address';\n                        }\n                        return errors;\n                      }}\n                    onSubmit={ async (values, { setSubmitting }) => {\n                        setTimeout(() => {\n                        alert(JSON.stringify(values, null, 2));\n                        setSubmitting(false);\n                        }, 400);\n                        try {\n                                const newUser = await fetch('http://localhost:3000/api/signup', {\n                                method:'POST',\n                                mode: 'no-cors',\n                                cache: \"no-cache\",\n                                url: 'http://localhost:3000',\n                                headers: {\n                                    \"Content-Type\": \"application/json\"\n                                },\n                                body: JSON.stringify(assoc('roles', ['user'], values))\n                            });\n                        } catch(err) {\n                            console.log(err)\n                        }\n\n                        //console.log(newUser)\n\n\n                    }}>\n                    {({\n                        values,\n                        errors,\n                        touched,\n                        handleChange,\n                        handleBlur,\n                        handleSubmit,\n                        isSubmitting,\n                        /* and other goodies */\n                    }) => (<SignUpContainer>\n                            <h2>Create an account:</h2>\n                                <SignUpForm onSubmit={handleSubmit}>\n                                    <FormItem>\n                                        <StyledLabel>Email</StyledLabel>\n                                        <StyledInput\n                                            type=\"email\"\n                                            name=\"email\"\n                                            onChange={handleChange}\n                                            value={values.email}\n                                        />\n                                    </FormItem>\n                                    <FormItem>\n                                        <StyledLabel>Name</StyledLabel>\n                                        <StyledInput\n                                            type=\"text\"\n                                            name=\"name\"\n                                            onChange={handleChange}\n                                            value={values.name}\n                                        />\n                                    </FormItem>\n                                    <FormItem>\n                                        <StyledLabel>Daily Calorie Goal</StyledLabel>\n                                        <StyledInput\n                                            type=\"text\"\n                                            name=\"daily calorie goal\"\n                                            onChange={handleChange}\n                                            value={values.dailyCalorieGoal}\n                                        />\n                                    </FormItem>\n                                    <FormItem>\n                                        <StyledLabel>Password</StyledLabel>\n                                        <StyledInput\n                                            type=\"password\"\n                                            name=\"password\"\n                                            onChange={handleChange}\n                                            onBlur={handleBlur}\n                                            value={values.password}\n                                        />\n                                    </FormItem>\n                                    <StyledButton type=\"submit\" disabled={isSubmitting}>\n                                        Submit\n                                    </StyledButton>\n                                </SignUpForm>\n                    </SignUpContainer> )}\n                </Formik>\n    }\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}