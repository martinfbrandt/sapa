{"ast":null,"code":"import _regeneratorRuntime from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/martinbrandt/martin-brandt/calorie-counter/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/martinbrandt/martin-brandt/calorie-counter/src/pages/SignUp.jsx\";\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    align-items: flex-start;\\n    width: 100%;\\n    margin: 10px 0 10px 0;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 30px;\\n    height: 30px;\\n    width: 60px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    margin-left:10px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 5px;\\n    height: 30px;\\n    border: none;\\n    width: 100%;\\n    padding: 5px;\\n    font-family: sans-serif;\\n    font-weight: 500;\\n    font-size: medium;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 5px;\\n    display: flex;\\n    flex-direction: column;\\n    width: 300px;\\n    align-items: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    background-color: \", \";\\n    align-items: center;\\n    margin: 40px 80px 40px 80px;\\n    padding: 20px 0 20px 0;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { lightGreen } from 'variables';\nimport { Formik } from 'formik';\nimport { assoc } from 'ramda';\nimport { signUpUser } from 'Api';\nvar SignUpContainer = styled.div(_templateObject(), lightGreen);\nvar SignUpForm = styled.form(_templateObject2());\nvar StyledInput = styled.input(_templateObject3());\nvar StyledLabel = styled.label(_templateObject4());\nvar StyledButton = styled.button(_templateObject5());\nvar FormItem = styled.div(_templateObject6());\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUp, _Component);\n\n  function SignUp() {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUp).call(this));\n    _this.userCreatedForm = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"User \".concat(createdUser.email, \" created successfully\")), React.createElement(StyledButton, {\n      onClick: _this.props.toggleSignUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Start logging\"));\n\n    _this.setCreatedUser = function (user) {\n      return _this.setState({\n        createdUser: user\n      });\n    };\n\n    _this.state = {\n      createdUser: null\n    };\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return this.state.createdUser ? this.userCreatedForm : React.createElement(Formik, {\n        initialValues: {\n          email: '',\n          password: '',\n          name: '',\n          dailyCalorieGoal: 2000\n        },\n        validate: function validate(values) {\n          var errors = {};\n\n          if (!values.email) {\n            errors.email = 'Required';\n          } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n            errors.email = 'Invalid email address';\n          }\n\n          return errors;\n        },\n        onSubmit:\n        /*#__PURE__*/\n        function () {\n          var _ref2 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee(values, _ref) {\n            var setSubmitting, response;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    setSubmitting = _ref.setSubmitting;\n                    setTimeout(function () {\n                      setSubmitting(false);\n                    }, 400);\n                    _context.next = 4;\n                    return signUpUser(values);\n\n                  case 4:\n                    response = _context.sent;\n                    _context.t0 = _this2;\n                    _context.next = 8;\n                    return response.json();\n\n                  case 8:\n                    _context.t1 = _context.sent;\n\n                    _context.t0.setCreatedUser.call(_context.t0, _context.t1);\n\n                  case 10:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          return function (_x, _x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, function (_ref3) {\n        var values = _ref3.values,\n            errors = _ref3.errors,\n            touched = _ref3.touched,\n            handleChange = _ref3.handleChange,\n            handleBlur = _ref3.handleBlur,\n            handleSubmit = _ref3.handleSubmit,\n            isSubmitting = _ref3.isSubmitting;\n        return React.createElement(SignUpContainer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"Create an account:\"), React.createElement(SignUpForm, {\n          onSubmit: handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(FormItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(StyledLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"Email\"), React.createElement(StyledInput, {\n          type: \"email\",\n          name: \"email\",\n          onChange: handleChange,\n          value: values.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        })), React.createElement(FormItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(StyledLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, \"Name\"), React.createElement(StyledInput, {\n          type: \"text\",\n          name: \"name\",\n          onChange: handleChange,\n          value: values.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        })), React.createElement(FormItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(StyledLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, \"Daily Calorie Goal\"), React.createElement(StyledInput, {\n          type: \"text\",\n          name: \"daily calorie goal\",\n          onChange: handleChange,\n          value: values.dailyCalorieGoal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        })), React.createElement(FormItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(StyledLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"Password\"), React.createElement(StyledInput, {\n          type: \"password\",\n          name: \"password\",\n          onChange: handleChange,\n          onBlur: handleBlur,\n          value: values.password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        })), React.createElement(StyledButton, {\n          type: \"submit\",\n          disabled: isSubmitting,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"Submit\")));\n      });\n    }\n  }]);\n\n  return SignUp;\n}(Component);\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/martinbrandt/martin-brandt/calorie-counter/src/pages/SignUp.jsx"],"names":["React","Component","styled","lightGreen","Formik","assoc","signUpUser","SignUpContainer","div","SignUpForm","form","StyledInput","input","StyledLabel","label","StyledButton","button","FormItem","SignUp","userCreatedForm","createdUser","email","props","toggleSignUp","setCreatedUser","user","setState","state","password","name","dailyCalorieGoal","values","errors","test","setSubmitting","setTimeout","response","json","touched","handleChange","handleBlur","handleSubmit","isSubmitting"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport styled from 'styled-components';\nimport {lightGreen} from 'variables';\nimport {Formik} from 'formik';\nimport {assoc} from 'ramda';\nimport {signUpUser} from 'Api';\n\nconst SignUpContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    background-color: ${lightGreen};\n    align-items: center;\n    margin: 40px 80px 40px 80px;\n    padding: 20px 0 20px 0;\n`;\n\nconst SignUpForm = styled.form`\n    margin: 5px;\n    display: flex;\n    flex-direction: column;\n    width: 300px;\n    align-items: center;\n`\n\nconst StyledInput = styled.input`\n    margin: 5px;\n    height: 30px;\n    border: none;\n    width: 100%;\n    padding: 5px;\n    font-family: sans-serif;\n    font-weight: 500;\n    font-size: medium;\n`;\n\nconst StyledLabel = styled.label`\n    margin-left:10px;\n`\n\nconst StyledButton = styled.button`\n    margin: 30px;\n    height: 30px;\n    width: 60px;\n`\n\nconst FormItem = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n    margin: 10px 0 10px 0;\n`\n\n\n\n\nclass SignUp extends Component {\n    constructor() {\n        super();\n        this.state = {\n            createdUser: null\n        }\n    }\n\n    userCreatedForm = <div>\n            <h4>{`User ${createdUser.email} created successfully`}</h4>\n            <StyledButton onClick={this.props.toggleSignUp}>Start logging</StyledButton>\n        </div>\n\n    setCreatedUser = user => this.setState({createdUser: user})\n\n    render(){\n        return this.state.createdUser ? this.userCreatedForm\n                : <Formik\n                    initialValues={{ email: '', password: '', name: '', dailyCalorieGoal: 2000 }}\n                    validate={values => {\n                        let errors = {};\n                        if (!values.email) {\n                          errors.email = 'Required';\n                        } else if (\n                          !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n                        ) {\n                          errors.email = 'Invalid email address';\n                        }\n                        return errors;\n                      }}\n                    onSubmit={ async (values, { setSubmitting }) => {\n                        setTimeout(() => {\n                            setSubmitting(false);\n                        }, 400);\n                        const response = await signUpUser(values);\n                        //set the user returned from the promise\n                        this.setCreatedUser(await response.json());\n                    }}>\n                    {({\n                        values,\n                        errors,\n                        touched,\n                        handleChange,\n                        handleBlur,\n                        handleSubmit,\n                        isSubmitting,\n                        /* and other goodies */\n                    }) => (<SignUpContainer>\n                            <h2>Create an account:</h2>\n                                <SignUpForm onSubmit={handleSubmit}>\n                                    <FormItem>\n                                        <StyledLabel>Email</StyledLabel>\n                                        <StyledInput\n                                            type=\"email\"\n                                            name=\"email\"\n                                            onChange={handleChange}\n                                            value={values.email}\n                                        />\n                                    </FormItem>\n                                    <FormItem>\n                                        <StyledLabel>Name</StyledLabel>\n                                        <StyledInput\n                                            type=\"text\"\n                                            name=\"name\"\n                                            onChange={handleChange}\n                                            value={values.name}\n                                        />\n                                    </FormItem>\n                                    <FormItem>\n                                        <StyledLabel>Daily Calorie Goal</StyledLabel>\n                                        <StyledInput\n                                            type=\"text\"\n                                            name=\"daily calorie goal\"\n                                            onChange={handleChange}\n                                            value={values.dailyCalorieGoal}\n                                        />\n                                    </FormItem>\n                                    <FormItem>\n                                        <StyledLabel>Password</StyledLabel>\n                                        <StyledInput\n                                            type=\"password\"\n                                            name=\"password\"\n                                            onChange={handleChange}\n                                            onBlur={handleBlur}\n                                            value={values.password}\n                                        />\n                                    </FormItem>\n                                    <StyledButton type=\"submit\" disabled={isSubmitting}>\n                                        Submit\n                                    </StyledButton>\n                                </SignUpForm>\n                    </SignUpContainer> )}\n                </Formik>\n    }\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}